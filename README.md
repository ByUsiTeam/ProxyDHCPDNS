# DHCP-Proxy

这是一个结合DHCP与DNS代理功能的工具，能够实现对DHCP请求的代理转发以及对DNS请求的劫持处理。

## 功能特性

- **DHCP代理**：截获并处理客户端的DHCP请求，代理与真实DHCP服务器之间的通信。
- **DNS劫持**：对DNS查询进行拦截，可自定义域名解析规则。
- **日志记录**：详细记录网络数据包信息，便于分析与调试。
- **动态配置**：支持从配置文件加载规则，并可动态调整代理行为。

## 组件说明

- `dhcp_proxy.py`：实现DHCP代理的核心逻辑，包括数据包解析、转发及代理服务器设置。
- `dns_proxy.py`：提供DNS代理功能，解析DNS查询并构建响应。
- `config.json`：主配置文件，用于定义代理规则及服务器设置。
- `dnsconfig.json`：DNS劫持配置文件，指定需要拦截的域名及对应IP地址。
- `run.py`：程序入口，启动DHCP与DNS代理服务。
- `run.sh`：启动脚本，用于便捷运行整个代理系统。

## 使用说明

1. **配置设置**：编辑`config.json`和`dnsconfig.json`文件，根据需要设置DHCP与DNS代理规则。
2. **启动服务**：运行`run.sh`脚本或直接执行`run.py`文件以启动代理服务。
3. **日志查看**：代理运行期间，日志文件将记录详细的网络交互信息，便于监控与调试。

## 依赖环境

- Python 3.8 或更高版本
- 需要root权限以监听网络接口

## 开源许可

本项目采用MIT License，请参阅项目许可文件以获取详细信息。